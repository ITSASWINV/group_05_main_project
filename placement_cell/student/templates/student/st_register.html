{% extends 'temp/page.html' %}
{% block base %}
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Registration Form</title>
<style>
    body {
        font-family: Arial, sans-serif;
    }
    form {
        max-width: 500px;
        margin: 0 auto;
        padding: 20px;
        border: 1px solid #ccc;
        border-radius: 5px;
        background-color: #f9f9f9;
    }
    h2 {
        text-align: center;
    }
    label {
        display: block;
        margin-bottom: 5px;
    }
    input[type="text"],
    input[type="email"],
    input[type="tel"],
    input[type="password"],
    select {
        width: 100%;
        padding: 8px;
        margin-bottom: 10px;
        border: 1px solid #ccc;
        border-radius: 3px;
        box-sizing: border-box;
    }
    button {
        width: 100%;
        padding: 10px;
        border: none;
        border-radius: 5px;
        background-color: #007bff;
        color: #fff;
        cursor: pointer;
    }
    button.download {
        margin-top: 10px;
        background-color: #28a745;
    }
</style>
</head>
<body>

    <h2>Registration Form</h2>
<form method="POST" enctype="multipart/form-data">
    {% csrf_token %}
    <label for="name">Name:</label>
    <input type="text" id="name" name="name" required class="form-control">
    
    <label for="department">Department:</label>
    <input type="text" id="department" name="department" required class="form-control">
    
    <label for="semester">Semester:</label>
    <input type="text" id="semester" name="semester" required class="form-control">
    
    <label for="cgpa">CGPA:</label>
    <input type="text" id="cgpa" name="cgpa" required class="form-control">
    
    <label for="certifications">Certifications:</label>
    <input type="text" id="certifications" name="certifications" class="form-control">
    
    <label for="mail">Email:</label>
    <input type="email" id="mail" name="mail" required class="form-control">

    <label for="password">Password:</label>
    <input type="password" id="password" name="password" required class="form-control">
    
    <label for="phone">Phone:</label>
    <input type="tel" id="phone" name="phone" required class="form-control">

    <label for="photo">Photo:</label>
    <input type="file" id="phtot" name="photo" required class="form-control">

    <label for="Year">Graduated Year:</label>
    <input type="text" id="year" name="year" required class="form-control" pattern="[0-9]{4}" minlength="4" maxlength="4">

    <label for="place">Place:</label>
    <input type="text" id="place" name="place" required class="form-control">

       <label for="ucity">University:</label>
    <input type="text" id="ucity" name="ucity" required class="form-control">

     <label for="skill">Skill:</label>
    <textarea rows="8" cols="30" required class="form-control" name="skill"></textarea>

     <label for="summary">Summary:</label>
    <textarea rows="8" cols="30" required class="form-control" name="summary"></textarea>

    <button type="submit">Register</button>
{#    <button type="button" class="download" id="downloadResume">Download Resume</button>#}
</form>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
<script>
    // Assign jsPDF to window.jsPDF to avoid errors
    window.jsPDF = window.jspdf.jsPDF;

    document.getElementById("downloadResume").addEventListener("click", function() {
        var name = document.getElementById("name").value;
        var department = document.getElementById("department").value;
        var semester = document.getElementById("semester").value;
        var cgpa = document.getElementById("cgpa").value;
        var certifications = document.getElementById("certifications").value;
        var mail = document.getElementById("mail").value;
        var phone = document.getElementById("phone").value;
        
        var pdf = new jsPDF();
        pdf.text(`Name: ${name}`, 10, 10);
        pdf.text(`Department: ${department}`, 10, 20);
        pdf.text(`Semester: ${semester}`, 10, 30);
        pdf.text(`CGPA: ${cgpa}`, 10, 40);
        pdf.text(`Certifications: ${certifications}`, 10, 50);
        pdf.text(`Email: ${mail}`, 10, 60);
        pdf.text(`Phone: ${phone}`, 10, 70);
        
        pdf.save("resume.pdf");
    });
</script>

</body>
</html>
{% endblock %}